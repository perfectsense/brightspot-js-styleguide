<!DOCTYPE html>
<html>
    <head>
        <title>Styleguide</title>
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700">
        <link rel="stylesheet" type="text/css" href="/_styleguide/index.css">
    </head>
    <body>
        <header class="StyleguideHeader">
            <h1 class="StyleguideTitle">Styleguide</h1>
        </header>

        <nav class="StyleguideNavigation">
            <h2 class="StyleguideNavigation-title">Examples</h2>
            <div class="StyleguideNavigation-content">
                <ul class="StyleguideGroups">
                    {{#each groups}}
                        <li>
                            <h3 class="StyleguideGroups-name">{{name}}</h3>
                            <ul class="StyleguideGroups-examples">
                                {{#each examples}}
                                    <li><a href="{{url}}" title="{{name}}" target="StyleguideExample">{{name}}</a></li>
                                {{/each}}
                            </ul>
                        </li>
                    {{/each}}
                </ul>
            </div>
        </nav>

        <div class="StyleguideContent">
            <iframe class="StyleguideExample" name="StyleguideExample" src="about:blank"></iframe>
        </div>

        <script type="text/javascript">
            (function () {
                if (window !== window.parent) document.body.setAttribute('data-iframed', true)

                var base = window.location.href
                base = base.substring(0, base.indexOf('/_styleguide'))

                document.querySelectorAll('a[href^="/"], link[href^="/"]').forEach(function (element) {
                    element.setAttribute('href', base + element.getAttribute('href'))
                })

                window.rebase = function (window) {
                    window.document.querySelectorAll('a[href^="/"], link[href^="/"]').forEach(function (element) {
                        element.setAttribute('href', base + element.getAttribute('href'))
                    })

                    window.document.querySelectorAll('img[src^="/"], script[src^="/"]').forEach(function (element) {
                        element.setAttribute('src', base + element.getAttribute('src'))
                    })
                }
            })();
        </script>
    </body>
</html>
